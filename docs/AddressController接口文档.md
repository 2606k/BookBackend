# AddressController 接口文档

## 概述
AddressController是地址管理控制器，负责处理用户地址的查询和添加功能。

**基础路径**: `/address`

## 接口列表

### 1. 查询地址列表
- **接口**: `POST /address/list`
- **功能**: 查询地址列表，支持用户端和管理端查询
- **请求参数**:
```json
{
  "openid": "用户openid（可选，为空时为管理端查询）",
  "phone": "手机号（可选，精确查询）",
  "address": "地址关键词（可选，模糊查询）"
}
```
- **响应结果**:
```json
{
  "code": 200,
  "msg": "成功",
  "data": [
    {
      "id": "地址ID",
      "openid": "用户openid",
      "phone": "手机号",
      "address": "详细地址",
      "name": "收件人姓名",
      "isDefault": "是否默认地址",
      "createdAt": "创建时间"
    }
  ]
}
```

### 2. 添加地址
- **接口**: `POST /address/add`
- **功能**: 添加新的收货地址
- **请求参数**:
```json
{
  "openid": "用户openid",
  "name": "收件人姓名",
  "phone": "手机号",
  "address": "详细地址",
  "isDefault": "是否设为默认地址（可选）"
}
```
- **响应结果**:
```json
{
  "code": 200,
  "msg": "添加成功",
  "data": null
}
```

## 查询逻辑说明
- **用户端查询**: 当请求参数中包含`openid`时，只查询该用户的地址
- **管理端查询**: 当请求参数中不包含`openid`时，查询所有地址，支持按手机号和地址关键词过滤

## 错误处理
所有接口在出现错误时返回统一格式：
```json
{
  "code": 500,
  "msg": "错误描述",
  "data": null
}
```

## 注意事项
1. 地址查询支持模糊匹配
2. 手机号查询为精确匹配
3. 管理端可以查看所有用户的地址信息
4. 用户端只能查看自己的地址信息
